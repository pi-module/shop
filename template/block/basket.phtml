<?php if ($block['type'] == 'link') { ?>
    <span class="shop-block-basket">
        <a class="btn btn-primary" href="<?php echo $this->escape($block['link']); ?>"
           title="<?php echo _b('Basket'); ?>">
            <i class="fa fa-shopping-cart"></i> <?php echo _b('Basket'); ?> <span
                    class="badge"><?php echo $this->escape($block['number_view']); ?></span>
        </a>
    </span>
<?php } elseif ($block['type'] == 'dialog') { ?>
    <div class="shop-block-basket">
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#basketModal">
            <i class="fa fa-shopping-cart"></i> <?php echo _b('Basket'); ?> <span
                    class="badge"><?php echo $this->escape($block['number_view']); ?></span>
        </button>
        <div class="modal fade" id="basketModal" tabindex="-1" role="dialog" aria-labelledby="basketModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h4 class="modal-title" id="basketModalLabel">
                            <?php echo _b('List of products on your basket'); ?>
                        </h4>
                    </div>
                    <div class="modal-body">
                        <?php if ($block['number'] > 0) { ?>
                            <?php foreach ($block['list'] as $product) { ?>
                                <div class="media">
                                    <div class="media-left col-md-4 col-12">
                                        <img class="img-fluid media-object"
                                             src="<?php echo $this->escape($product['thumbUrl']); ?>"
                                             alt="<?php echo $this->escape($product['title']); ?>">
                                    </div>
                                    <div class="media-body col-md-8 col-12">
                                        <h4 class="media-heading">
                                            <a href="<?php echo $this->escape($product['productUrl']); ?>"
                                               title="<?php echo $this->escape($product['title']); ?>">
                                                <?php echo $this->escape($product['title']); ?>
                                            </a>
                                        </h4>
                                        <p><strong><?php echo _b('Number'); ?></strong> :
                                            <span><?php echo $this->escape($product['number_view']); ?></span></p>
                                        <p><strong><?php echo _b('Total price'); ?></strong> :
                                            <span><?php echo $this->escape($product['total_view']); ?></span></p>
                                    </div>
                                </div>
                            <?php } ?>
                        <?php } else { ?>
                            <div class="alert alert-danger">
                                <?php echo _b('Your basket is empty'); ?>
                            </div>
                        <?php } ?>
                    </div>
                    <div class="modal-footer">
                        <a class="btn btn-primary" href="<?php echo $this->escape($block['link']); ?>"
                           title="<?php echo _b('Go to basket'); ?>">
                            <?php echo _b('Go to basket'); ?>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
<?php } ?>